<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>KH EduERP | 강사 일정관리</title>

  <!-- ✅ 통합된 스타일 -->
  <link rel="stylesheet" href="/styles/default.css">
  <link rel="stylesheet" href="/styles/style.css">
  <link rel="stylesheet" href="/styles/lecture.css">
</head>

<body class="lecture lecture-calendar">
  <!-- ===== 사이드바 ===== -->
  <aside class="sidebar">
    <div>
      <div class="logo">
            <span>KH EduERP</span>
        </div>
      <ul class="menu">
        <li>학생조회</li>
        <li>출결관리</li>
        <li class="active">일정관리</li>
        <li>상담관리</li>
        <li>출결정정 처리</li>
        <li>만족도 결과</li>
        <li>공지사항</li>
        <li>문의</li>
      </ul>
    </div>
    <footer>© 2025 KH</footer>
  </aside>

  <!-- ===== 메인 영역 ===== -->
  <main class="main">
    <!-- 상단바 -->
    <header class="topbar">
      <div class="path">강사 &gt; 일정관리 <b>강사 페이지</b></div>
      <div class="user-info">알림(<span>2</span>) 김강사(강사)</div>
    </header>

    <!-- 콘텐츠 영역 -->
    <section class="content">
      <!-- 월 이동 컨트롤 -->
      <div class="calendar-header">
        <div class="month-control">
          <button class="month-btn">◀</button>
          <div class="month-title">2025년 10월</div>
          <button class="month-btn">▶</button>
        </div>

        <div class="legend">
          <span><span class="dot blue"></span>수업</span>
          <span><span class="dot orange"></span>시험</span>
          <span><span class="dot red"></span>휴원/행사</span>
        </div>
      </div>

      <!-- 달력 -->
      <div class="calendar-grid" id="calendar"></div>

      <!-- 일정 추가 버튼 -->
      <button class="add-btn">일정추가</button>
    </section>
  </main>

  <!-- ===== 일정 상세 모달 ===== -->
  <div class="modal" id="eventModal">
    <div class="modal-content">
      <h3 id="modalTitle">일정 상세</h3>
      <p id="modalBody">내용 없음</p>
      <button class="modal-close" onclick="closeModal()">닫기</button>
    </div>
  </div>

  <!-- ===== JavaScript ===== -->
  <script>
    const calendar = document.getElementById("calendar");
    const modal = document.getElementById("eventModal");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody = document.getElementById("modalBody");

    // 테스트용 일정 데이터
    const events = {
      3: { type: ["수업", "시험"], details: "수업: 10:00~12:00<br>시험: 14:00~15:00" },
      10: { type: ["수업"], details: "수업: 09:00~11:00" },
      19: { type: ["휴원"], details: "휴원: 한글날 대체휴무" }
    };

    // 달력 생성
    for (let i = 1; i <= 31; i++) {
      const day = document.createElement("div");
      day.classList.add("day-cell");
      day.innerHTML = `<span class='day-num'>${i}</span>`;

      if (events[i]) {
        let dots = "";
        if (events[i].type.includes("수업")) dots += `<span class='event-dot blue'></span>`;
        if (events[i].type.includes("시험")) dots += `<span class='event-dot orange'></span>`;
        if (events[i].type.includes("휴원")) dots += `<span class='event-dot red'></span>`;

        day.innerHTML += `
          <div class='tooltip'>${events[i].details}</div>
          <div class='event-dots'>${dots}</div>
        `;

        day.onclick = () => openModal(i);
      }

      calendar.appendChild(day);
    }

    // 모달 열기
    function openModal(day) {
      if (events[day]) {
        modalTitle.innerHTML = `10월 ${day}일 일정`;
        modalBody.innerHTML = events[day].details;
      } else {
        modalTitle.innerHTML = `10월 ${day}일 일정`;
        modalBody.innerHTML = "일정 없음";
      }
      modal.style.display = "flex";
    }

    // 모달 닫기
    function closeModal() {
      modal.style.display = "none";
    }
  </script>
</body>
</html>
